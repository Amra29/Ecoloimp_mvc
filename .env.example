# ===================================
# Application Configuration
# ===================================

# Core
FLASK_APP=app.py
FLASK_ENV=development
SECRET_KEY=dev-secret-key-change-this-in-production
APP_NAME="Sistema de Conteo de Impresiones"
SERVER_NAME=localhost:5000
PREFERRED_URL_SCHEME=http

# ===================================
# Database Configuration
# ===================================

# SQLite (Development)
DATABASE_URL=sqlite:///instance/ecoloim.db

# PostgreSQL (Production)
# DATABASE_URL=postgresql://user:password@localhost:5432/ecoloim_db

# SQLAlchemy
SQLALCHEMY_DATABASE_URI=${DATABASE_URL}
SQLALCHEMY_ENGINE_OPTIONS={"pool_pre_ping": true, "pool_recycle": 300}
SQLALCHEMY_TRACK_MODIFICATIONS=False
SQLALCHEMY_ECHO=False
SQLALCHEMY_RECORD_QUERIES=True

# ===================================
# Email Configuration
# ===================================

MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USE_SSL=False
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-specific-password
MAIL_DEFAULT_SENDER=your-email@gmail.com
MAIL_DEBUG=False
MAIL_SUPPRESS_SEND=False
MAIL_ASCII_ATTACHMENTS=False

# ===================================
# Authentication & Security
# ===================================

# Flask-Login
LOGIN_DISABLED=False
LOGIN_VIEW=auth.login
LOGIN_MESSAGE="Por favor inicia sesión para acceder a esta página."
LOGIN_MESSAGE_CATEGORY="info"

# Security Headers
SECURITY_PASSWORD_SALT=change-this-in-production
SECURITY_PASSWORD_HASH=bcrypt
SECURITY_CONFIRMABLE=True
SECURITY_RECOVERABLE=True
SECURITY_TRACKABLE=True
SECURITY_CHANGEABLE=True
SECURITY_SEND_REGISTER_EMAIL=True
SECURITY_TOKEN_AUTHENTICATION_HEADER="Authentication-Token"
SECURITY_TOKEN_MAX_AGE=3600  # 1 hour

# Rate Limiting
RATELIMIT_DEFAULT=200 per day, 50 per hour
RATELIMIT_STORAGE_URL=memory://
RATELIMIT_STRATEGY=fixed-window

# ===================================
# Application Settings
# ===================================

# File Uploads
UPLOAD_FOLDER=instance/uploads
ALLOWED_EXTENSIONS={'png', 'jpg', 'jpeg', 'gif', 'pdf'}
MAX_CONTENT_LENGTH=16777216  # 16MB

# Session
SESSION_TYPE=filesystem
SESSION_COOKIE_NAME=ecoloim_session
SESSION_COOKIE_SECURE=False  # Set to True in production with HTTPS
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE='Lax'
PERMANENT_SESSION_LIFETIME=28800  # 8 hours in seconds

# CORS (Cross-Origin Resource Sharing)
CORS_ENABLED=False
CORS_ORIGINS=*
CORS_SUPPORTS_CREDENTIALS=True

# ===================================
# Logging Configuration
# ===================================

LOG_LEVEL=INFO
LOG_FORMAT='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
LOG_FILE=logs/app.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=10

# ===================================
# Feature Flags
# ===================================

FEATURE_MAIL_ENABLED=False
FEATURE_REGISTRATION_ENABLED=False
FEATURE_2FA_ENABLED=False
FEATURE_API_DOCS_ENABLED=True

# ===================================
# External Services
# ===================================

# Google OAuth2 (if using Google login)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Recaptcha (if using Google reCAPTCHA)
RECAPTCHA_ENABLED=False
RECAPTCHA_PUBLIC_KEY=your-recaptcha-site-key
RECAPTCHA_PRIVATE_KEY=your-recaptcha-secret-key

# ===================================
# Development Settings
# ===================================

DEBUG=True
TESTING=False
TEMPLATES_AUTO_RELOAD=True
EXPLAIN_TEMPLATE_LOADING=False

# ===================================
# Production Settings (override in production)
# ===================================
# SERVER_NAME=example.com
# PREFERRED_URL_SCHEME=https
# SESSION_COOKIE_SECURE=True
# REMEMBER_COOKIE_SECURE=True
# SESSION_COOKIE_HTTPONLY=True
# SESSION_COOKIE_SAMESITE='Lax'
